{"version":3,"sources":["..\\..\\..\\..\\assets\\Script/assets\\Script\\gameBtnClick.js"],"names":["XMLHTTP","require","cc","Class","extends","Component","properties","xhr","default","type","audioSource","AudioSource","displayBoard","Node","ruleBoard","trendBoard","stakeBoard","stakeBox","editpassBoard","oldMima","newMima","animatefireArr","stakeMoney","stakeBtnsprite","Sprite","goldClips","tanKuang","userGold","Label","otherAudios","issueLable","longLable","huLable","heLable","onLoad","betArr","totalMoneys","mygoldSprite","userCookie","sys","localStorage","getItem","userloginInfo","JSON","parse","httpFail","res","tankuang","find","tankuangtxt","getComponent","active","string","Animation","play","createGoldsprite","parentnode","spriteframe","node","sp","addComponent","spriteFrame","parent","setScale","posX","Math","floor","random","posY","setPositionX","setPositionY","push","controlStakeAnimate","stakebtn","stakenodes","children","i","length","_name","target","yznumber","getChildByName","parseInt","stakeType","stakeobj","staketype","goldbox","staketxt","stakelable","lablestr","slice","usercions","goldMoney","gamebetarr","Array","resetBetClick","longgoldcoin","hugoldcoin","hegoldcoin","zsbetArr","l","destroy","gameBetClick","thisbetArr","issue","Global","endtime","psftime","Date","getTime","lhtArr","longArr","huArr","heArr","Money","idx","Nums","params","gameId","turnNum","totalNums","totalMoney","ftime","j","xmlHttpPost","gameBetCallback","bind","userinfo","coin","setItem","stringify","coinlable","header","success","longzhu","huzhu","hezhu","yazhuInfo","issuestr","uid","msg","changeUserinfo","log","balance","controlBgAudio","toggle","isChecked","stop","mute","showTankuang","closeTankuang","showDisplayBoard","closeDisplayBoard","closeAllBoard","showRuleBoard","closeRuleBoard","kjData","databox","datalist","prekjdatalength","forlength","copyNode","instantiate","lhhTxt","RichText","addChild","stakeData","data","stakedata","showTrendBoard","xmlHttpGet","count","closeTrendBoard","showStakeBoard","closeStakeBoard","childnodes","showEditpassBoard","closeEditpassBoard","editPassClick","oldpass","newpass","editSuccess","quitGame","removeItem","director","loadScene"],"mappings":"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","file":"gameBtnClick.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["const XMLHTTP=require(\"XMLHTTP\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        xhr:{\r\n            default: null,\r\n            type: XMLHTTP\r\n        },\r\n        audioSource:{\r\n            type:cc.AudioSource,\r\n            default:null\r\n        },\r\n        displayBoard:cc.Node,\r\n        ruleBoard:cc.Node,\r\n        trendBoard:cc.Node,\r\n        stakeBoard:cc.Node,\r\n        stakeBox:cc.Node,\r\n        editpassBoard:cc.Node,\r\n        oldMima:cc.Component,\r\n        newMima:cc.Component,\r\n        animatefireArr:{\r\n            default:[],\r\n            type:[cc.Node]\r\n        },\r\n        stakeMoney:0,\r\n        stakeBtnsprite:{\r\n            default:null,\r\n            type:cc.Sprite\r\n        },\r\n        goldClips:{\r\n            default:[],\r\n            type:[cc.Sprite]\r\n        },\r\n        tanKuang:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n        userGold:{\r\n            default:null,\r\n            type:cc.Label\r\n        },\r\n        //除背景外的其他声音\r\n        otherAudios:{\r\n            default:[],\r\n            type:[cc.AudioSource]\r\n        },\r\n        //当前期数组件\r\n        issueLable:{\r\n            default:null,\r\n            type:cc.Label\r\n        },\r\n        longLable:{\r\n            default:null,\r\n            type:cc.Label\r\n        },\r\n        huLable:{\r\n            default:null,\r\n            type:cc.Label\r\n        },\r\n        heLable:{\r\n            default:null,\r\n            type:cc.Label\r\n        }\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n    onLoad () {\r\n        this.betArr=[];\r\n        this.totalMoneys=0;\r\n        this.mygoldSprite=[];//我投注的桌面金币精灵\r\n        this.userCookie=cc.sys.localStorage.getItem(\"userCookie\");\r\n        this.userloginInfo=JSON.parse(cc.sys.localStorage.getItem(\"userinfo\"));\r\n    },\r\n    //start () {},\r\n\r\n    // update (dt) {},\r\n    //访问失败提示\r\n    httpFail:function(res){\r\n        var tankuang=cc.find(\"Canvas/game/tankuangbg\");\r\n        var tankuangtxt=cc.find(\"Canvas/game/tankuangbg/msgtxt\").getComponent(cc.Label);\r\n        if(!tankuang.active)\r\n        {\r\n            tankuang.active=true;\r\n        }\r\n        tankuangtxt.string=res;\r\n        tankuang.getComponent(cc.Animation).play();\r\n    },\r\n    //创建金币到桌面\r\n    createGoldsprite:function(parentnode,spriteframe){\r\n        var node=new cc.Node('goldclip');\r\n        var sp=node.addComponent(cc.Sprite);\r\n        sp.spriteFrame=spriteframe;\r\n        node.parent=parentnode;\r\n        node.setScale(0.25,0.25);\r\n        //获取随机输\r\n        var posX=Math.floor(Math.random()*50-Math.random()*100);\r\n        var posY=Math.floor(Math.random()*50-Math.random()*100);\r\n        node.setPositionX(posX);\r\n        node.setPositionY(posY);\r\n        this.mygoldSprite.push(node);\r\n    },\r\n    controlStakeAnimate:function(stakebtn){\r\n        var stakenodes=this.stakeBox.children;\r\n        for(var i=0;i<this.animatefireArr.length;++i)\r\n        {\r\n            if(stakenodes[i]._name===stakebtn.target._name)\r\n            {\r\n                this.animatefireArr[i].active=true;\r\n                var yznumber=stakenodes[i].getChildByName(\"yztxt\").getComponent(cc.Label).string;\r\n                this.stakeMoney=parseInt(yznumber);\r\n                this.stakeBtnsprite=stakenodes[i].getComponent(cc.Sprite);\r\n            }\r\n            else\r\n            {\r\n                this.animatefireArr[i].active=false;\r\n            }\r\n        }\r\n    },\r\n    //下注类型龙虎和\r\n    stakeType:function(stakeobj){\r\n        var staketype=stakeobj.target;\r\n        var goldbox=staketype.getChildByName(\"goldbox\");\r\n        var staketxt=staketype.getChildByName(\"stakebg\").getChildByName(\"staketxt\");\r\n        var stakelable=staketxt.getComponent(cc.Label);\r\n        var lablestr=stakelable.string.slice(3);\r\n        //判断用户金币是否足够押注,不够则不做押注效果并且提示用户\r\n        var usercions=this.userGold.string.slice(1);\r\n        this.totalMoneys+=this.stakeMoney;\r\n        if(parseInt(usercions)>=this.totalMoneys)\r\n        {\r\n            var goldMoney=parseInt(lablestr)+this.stakeMoney;\r\n            this.createGoldsprite(goldbox,this.stakeBtnsprite.spriteFrame);//放置金币\r\n            stakelable.string=\"下注：\"+goldMoney;\r\n            var gamebetarr=new Array();\r\n            if(staketype._name==='dragon')\r\n            {\r\n                gamebetarr['playId']='dragon';\r\n            }\r\n            else if(staketype._name==='tiger'){\r\n                gamebetarr['playId']='tiger';\r\n            }\r\n            else if(staketype._name==='tie'){\r\n                gamebetarr['playId']='tie';\r\n            }\r\n            gamebetarr['money']=this.stakeMoney;\r\n            \r\n            this.betArr.push(gamebetarr);\r\n        }\r\n        else\r\n        {\r\n            if(!this.tanKuang.active)\r\n            {\r\n                this.tanKuang.active=true;\r\n            }\r\n            this.tanKuang.getChildByName(\"msgtxt\").getComponent(cc.Label).string=\"您的金币不足,请充值后再押注！\";\r\n            this.tanKuang.getComponent(cc.Animation).play();\r\n            this.totalMoneys-=this.stakeMoney;\r\n        }\r\n    },\r\n    //重新押注\r\n    resetBetClick:function(){\r\n        this.totalMoneys=0;\r\n        var longgoldcoin=0;\r\n        var hugoldcoin=0;\r\n        var hegoldcoin=0;\r\n        //cc.log(this.longLable.string);\r\n        if(this.betArr.length>0)\r\n        {\r\n            var zsbetArr=this.betArr;\r\n            for(var l=0;l<zsbetArr.length;l++)\r\n            {\r\n                if(zsbetArr[l]['playId']=='dragon')\r\n                {\r\n                    longgoldcoin+=parseInt(zsbetArr[l]['money']);\r\n                }\r\n                if(zsbetArr[l]['playId']=='tiger')\r\n                {\r\n                    hugoldcoin+=parseInt(zsbetArr[l]['money']);\r\n                }\r\n                if(zsbetArr[l]['playId']=='tie')\r\n                {\r\n                    hegoldcoin+=parseInt(zsbetArr[l]['money']);\r\n                }\r\n            }\r\n            this.longLable.string='下注：'+(parseInt(this.longLable.string.slice(3))-longgoldcoin);\r\n            \r\n            this.huLable.string='下注：'+(parseInt(this.huLable.string.slice(3))-hugoldcoin);\r\n            this.heLable.string='下注：'+(parseInt(this.heLable.string.slice(3))-hegoldcoin);\r\n        }\r\n        this.betArr=[];\r\n        if(this.mygoldSprite.length>0)\r\n        {\r\n            for(var i=0;i<this.mygoldSprite.length;i++)\r\n            {\r\n                this.mygoldSprite[i].destroy();\r\n            }\r\n        }\r\n        this.mygoldSprite=[];\r\n    },\r\n    gameBetClick:function(){\r\n        \r\n        if(this.betArr.length>0)\r\n        {\r\n            var thisbetArr=this.betArr;\r\n            var issue=Global.issue;\r\n            var endtime=Global.endtime;\r\n            var psftime=(new Date(endtime).getTime())/1000;\r\n            var lhtArr=new Array();\r\n            var longArr=new Array();longArr['playId']=1105;longArr['money']=0;\r\n            var huArr=new Array();huArr['playId']=1106; huArr['money']=0;\r\n            var heArr=new Array();heArr['playId']=1107; heArr['money']=0;\r\n            \r\n            for (let i = 0; i < thisbetArr.length; i++) {\r\n                if(thisbetArr[i]['playId']=='dragon')\r\n                {\r\n                    \r\n                    longArr['money']+=parseInt(thisbetArr[i]['money']);\r\n                }\r\n                else if(thisbetArr[i]['playId']=='tiger')\r\n                {\r\n                    \r\n                    huArr['money']+=thisbetArr[i]['money'];\r\n                }\r\n                else if(thisbetArr[i]['playId']=='tie')\r\n                {\r\n                    \r\n                    heArr['money']+=thisbetArr[i]['money'];\r\n                }                \r\n            }\r\n            if(longArr['money']>0){\r\n                lhtArr.push(longArr);\r\n            }\r\n            if(huArr['money']>0){\r\n                lhtArr.push(huArr);\r\n            }\r\n            if(heArr['money']>0){\r\n                lhtArr.push(heArr);\r\n            }\r\n            \r\n            var Money=0;\r\n            for (let idx = 0; idx < lhtArr.length; idx++) {\r\n                Money+=lhtArr[idx]['money']\r\n            }\r\n            var usercions=this.userGold.string.slice(1);\r\n\r\n            if(Money<=parseInt(usercions))\r\n            {\r\n                this.userGold.string='$'+(parseInt(usercions)-Money);\r\n                var Nums=lhtArr.length;//注数\r\n                var params={gameId:1,turnNum:issue,totalNums:Nums,totalMoney:Money,ftime:psftime};\r\n                for(var j=0;j<lhtArr.length;j++){\r\n                    params[\"betBean[\"+j+\"][playId]\"]=lhtArr[j]['playId'];\r\n                    params[\"betBean[\"+j+\"][money]\"]=lhtArr[j]['money'];\r\n                }\r\n                //投注\r\n                this.xhr.xmlHttpPost(\"Data/postCode\",params,this.userCookie,this.gameBetCallback.bind(this),this.httpFail);\r\n                //改变显示用户金币信息\r\n                var userinfo=JSON.parse(cc.sys.localStorage.getItem(\"userinfo\"));\r\n                if(userinfo.coin>Money)\r\n                {\r\n                    userinfo.coin-=Money\r\n                }\r\n                cc.sys.localStorage.setItem(\"userinfo\",JSON.stringify(userinfo));\r\n                var coinlable=cc.find(\"Canvas/game/bottom/botbg/userinfo/usercoin/usercointxt\").getComponent(cc.Label);\r\n                coinlable.string=\"$\"+userinfo.coin;\r\n                \r\n            }\r\n            else\r\n            {\r\n                if(!this.tanKuang.active)\r\n                {\r\n                    this.tanKuang.active=true;\r\n                }\r\n                this.tanKuang.getChildByName(\"msgtxt\").getComponent(cc.Label).string=\"您的金币不足,请充值后再押注！\";\r\n                this.tanKuang.getComponent(cc.Animation).play();\r\n            }\r\n            \r\n        }\r\n    },\r\n    gameBetCallback:function(res,header){\r\n        if(res.success)\r\n        {\r\n            var longzhu=this.longLable.string.slice(3);\r\n            var huzhu=this.huLable.string.slice(3);\r\n            var hezhu=this.heLable.string.slice(3);\r\n            var yazhuInfo={\"longzhu\":longzhu,\"huzhu\":huzhu,\"hezhu\":hezhu};\r\n            var issuestr=this.issueLable.string.slice(0,11)+this.userloginInfo.uid;\r\n            cc.sys.localStorage.setItem(issuestr,JSON.stringify(yazhuInfo))\r\n            this.totalMoneys=0;\r\n            this.betArr=[];\r\n            this.mygoldSprite=[];\r\n        }\r\n        if(res.msg)\r\n        {\r\n            var tankuang=cc.find(\"Canvas/tankuangbg\");\r\n            var tankuangtxt=cc.find(\"Canvas/tankuangbg/msgtxt\").getComponent(cc.Label);\r\n            if(!tankuang.active)\r\n            {\r\n                tankuang.active=true;\r\n            }\r\n            tankuangtxt.string=res.msg;\r\n            tankuang.getComponent(cc.Animation).play();\r\n            //修改用户金币信息\r\n            this.xhr.xmlHttpPost(\"game/getUserMsg.do\",'',this.userCookie,this.changeUserinfo,this.httpFail);\r\n        }\r\n        \r\n    },\r\n    changeUserinfo:function(res,header){\r\n        cc.log(res.balance);\r\n        if(res.balance>=0)\r\n        {\r\n            var userinfo=JSON.parse(cc.sys.localStorage.getItem(\"userinfo\"));\r\n            userinfo.coin=res.balance;\r\n            cc.sys.localStorage.setItem(\"userinfo\",JSON.stringify(userinfo));\r\n            var coinlable=cc.find(\"Canvas/game/bottom/botbg/userinfo/usercoin/usercointxt\").getComponent(cc.Label);\r\n            coinlable.string=\"$\"+res.balance;\r\n            cc.log(res.balance);\r\n        }\r\n    },\r\n    controlBgAudio:function(toggle){\r\n        if(toggle.isChecked)\r\n        {\r\n            this.audioSource.stop();\r\n            for (let i = 0; i < this.otherAudios.length; i++) {\r\n                this.otherAudios[i].mute=1;                \r\n            }\r\n        }\r\n        else\r\n        {\r\n            this.audioSource.play();\r\n            for (let i = 0; i < this.otherAudios.length; i++) {\r\n                this.otherAudios[i].mute=0;          \r\n            }\r\n        }\r\n    },\r\n    showTankuang:function(msg){\r\n        this.tanKuang.getChildByName(\"msgtxt\").getComponent(cc.Label).string=msg;\r\n        if(!this.tanKuang.active)\r\n        {\r\n            this.tanKuang.active=true;\r\n        }\r\n    },\r\n    closeTankuang:function(){\r\n        if(this.tanKuang.active)\r\n        {\r\n            this.tanKuang.active=false;\r\n        }\r\n    },\r\n    showDisplayBoard:function(){\r\n        this.displayBoard.active=true;\r\n    },\r\n    closeDisplayBoard:function(){\r\n        this.displayBoard.active=false;\r\n    },\r\n    closeAllBoard:function(){\r\n       if(this.ruleBoard.active)\r\n       {\r\n        this.ruleBoard.active=false;\r\n       }\r\n       if(this.trendBoard.active)\r\n       {\r\n        this.trendBoard.active=false;\r\n       }\r\n       if(this.stakeBoard.active)\r\n       {\r\n        this.stakeBoard.active=false;\r\n       }\r\n       if(this.editpassBoard.active)\r\n       {\r\n        this.editpassBoard.active=false;\r\n       }\r\n    },\r\n    showRuleBoard:function(){\r\n        this.closeAllBoard();\r\n        this.ruleBoard.active=true;\r\n    },\r\n    closeRuleBoard:function(){\r\n        this.ruleBoard.active=false;\r\n    },\r\n    //开奖记录\r\n    kjData:function(res,header){\r\n        \r\n        if(res.length>0)\r\n        {\r\n            var databox=cc.find(\"Canvas/displayboard/trendboard/trendbg/trendScrollView/view/content\");\r\n            var datalist=cc.find(\"Canvas/displayboard/trendboard/trendbg/trendScrollView/view/content/datatable\");\r\n            var prekjdatalength=databox.children.length;\r\n            var forlength=0;\r\n            if(prekjdatalength>1)\r\n            {\r\n                forlength=res.length;\r\n            }\r\n            else\r\n            {\r\n                forlength=res.length-prekjdatalength-1;\r\n            }\r\n            for(var i=forlength-1;i>=0;i--)\r\n            {\r\n                var copyNode=cc.instantiate(datalist);\r\n                copyNode.getChildByName(\"qishu\").getComponent(cc.Label).string=res[i]['turnNum'];\r\n                copyNode.getChildByName(\"time\").getComponent(cc.Label).string=res[i]['openTime'];\r\n                copyNode.getChildByName(\"numberbox\").children[0].getComponent(cc.Label).string=res[i]['n1'];\r\n                copyNode.getChildByName(\"numberbox\").children[1].getComponent(cc.Label).string=res[i]['n2'];\r\n                copyNode.getChildByName(\"numberbox\").children[2].getComponent(cc.Label).string=res[i]['n3'];\r\n                copyNode.getChildByName(\"numberbox\").children[3].getComponent(cc.Label).string=res[i]['n4'];\r\n                copyNode.getChildByName(\"numberbox\").children[4].getComponent(cc.Label).string=res[i]['n5'];\r\n                var lhhTxt=res[i]['n1']>res[i]['n5']?\"<color=#ca0715>龙</color>\":(res[i]['n1']<res[i]['n5']?\"<color=#2396ea>虎</color>\":\"<color=#1fbe00>和</color>\");\r\n                copyNode.getChildByName(\"lhh\").getComponent(cc.RichText).string=lhhTxt;\r\n                copyNode.active=true;\r\n                databox.addChild(copyNode);\r\n            }\r\n            cc.find(\"Canvas/tankuangbg\").active=false;\r\n        }\r\n    },\r\n    //投注记录\r\n    stakeData:function(res,header){\r\n        if(res.data)\r\n        {\r\n            var databox=cc.find(\"Canvas/displayboard/stakeboard/stakebg/stakeScrollView/view/content\");\r\n            var datalist=cc.find(\"Canvas/displayboard/stakeboard/stakebg/stakeScrollView/view/content/dataitem\");\r\n            var stakedata=res.data;\r\n            for(var i=0;i<stakedata.length;i++)\r\n            {\r\n                var copyNode=cc.instantiate(datalist);\r\n                //获得开奖号码，第一个和第五个数字\r\n                copyNode.getChildByName(\"xiazhuqishu\").getComponent(cc.Label).string=stakedata[i]['turnNum'];\r\n                copyNode.getChildByName(\"xiazhushijian\").getComponent(cc.Label).string=stakedata[i]['addTime'].slice(11);\r\n                copyNode.getChildByName(\"money\").getComponent(cc.RichText).string=\"<color=#F0DC0C>\"+stakedata[i]['betmoney']+\"</color>\";\r\n                copyNode.getChildByName(\"shuying\").getComponent(cc.RichText).string=(Global.issue==stakedata[i]['turnNum'])?'--':(stakedata[i]['resultMoney']<0?\"<color=#ca0715>\"+stakedata[i]['resultMoney']+\"</color>\":\"<color=#1fbe00>\"+stakedata[i]['resultMoney']+\"</color>\");\r\n                var lhhTxt=stakedata[i]['playId']==1105?\"<color=#ca0715>龙</color>\":(stakedata[i]['playId']==1106?\"<color=#2396ea>虎</color>\":\"<color=#1fbe00>和</color>\");\r\n                copyNode.getChildByName(\"lhh\").getComponent(cc.RichText).string=lhhTxt;\r\n                copyNode.active=true;\r\n                databox.addChild(copyNode);\r\n            }\r\n            cc.find(\"Canvas/tankuangbg\").active=false;\r\n        }\r\n        else\r\n        {\r\n            cc.find(\"Canvas/tankuangbg\").active=false;\r\n        }\r\n    },\r\n    showTrendBoard:function(){\r\n        this.closeAllBoard();\r\n        this.trendBoard.active=true;\r\n        this.showTankuang('数据获取中……');\r\n        this.xhr.xmlHttpGet(\"game/getHistory.do\",{count:30},this.userCookie,this.kjData,this.httpFail);\r\n        \r\n    },\r\n    closeTrendBoard:function(){\r\n        this.trendBoard.active=false;\r\n        this.closeTankuang();\r\n    },\r\n    showStakeBoard:function(){\r\n        this.closeAllBoard();\r\n        this.stakeBoard.active=true;\r\n        this.showTankuang('数据获取中……');\r\n        cc.log(this.userCookie);\r\n        this.xhr.xmlHttpGet(\"report/getBetBills.do\",'',this.userCookie,this.stakeData,this.httpFail);\r\n    },\r\n    closeStakeBoard:function(){\r\n        var databox=cc.find(\"Canvas/displayboard/stakeboard/stakebg/stakeScrollView/view/content\");\r\n        var childnodes=databox.children;\r\n        for(var i=0;i<childnodes.length;i++)\r\n        {\r\n            if(i>1)\r\n            {\r\n                childnodes[i].destroy();\r\n            }\r\n        }\r\n        this.stakeBoard.active=false;\r\n        this.closeTankuang();\r\n    },\r\n    showEditpassBoard:function(){\r\n        this.closeAllBoard();\r\n        this.editpassBoard.active=true;\r\n    },\r\n    closeEditpassBoard:function(){\r\n        this.editpassBoard.active=false;\r\n    },\r\n    editPassClick:function(){\r\n        var oldpass=this.oldMima.string;\r\n        var newpass=this.newMima.string;\r\n        cc.log(oldpass);\r\n        cc.log(newpass);\r\n        var msg='';\r\n        if(oldpass==''||newpass=='')\r\n        {\r\n            msg=\"请输入密码\";\r\n            \r\n        }\r\n        else if(oldpass.length<6||newpass.length<6)\r\n        {\r\n            msg=\"密码长度不能小于6位\"\r\n        }\r\n        else if(newpass==oldpass)\r\n        {\r\n            msg=\"新密码不能和原密码相同\"\r\n        }\r\n        \r\n        if(msg!='')\r\n        {\r\n            cc.log(msg);\r\n            this.showTankuang(msg);\r\n            this.tanKuang.getComponent(cc.Animation).play();\r\n        }\r\n        else\r\n        {\r\n            this.xhr.xmlHttpPost('safe/setPasswd.do',{'oldPwd':oldpass,'newPwd':newpass},this.userCookie,this.editSuccess,this.httpFail);\r\n        }\r\n    },\r\n    editSuccess:function(res,header){\r\n        if(res)\r\n        {\r\n           var tankuang=cc.find(\"Canvas/tankuangbg\");\r\n           var tankuangtxt=cc.find(\"Canvas/tankuangbg/msgtxt\").getComponent(cc.Label);\r\n           tankuangtxt.string=res['msg'];\r\n           if(!tankuang.active)\r\n           {\r\n                tankuang.active=true;\r\n           }\r\n           tankuang.getComponent(cc.Animation).play();\r\n        }\r\n    },\r\n    quitGame:function(){\r\n        this.xhr.xmlHttpGet('user/logout','','',function(res){            \r\n            cc.sys.localStorage.removeItem(\"userCookie\");\r\n            cc.director.loadScene(\"Startgame\");\r\n        },function(res){cc.log(res)});\r\n    }\r\n});\r\n"]}